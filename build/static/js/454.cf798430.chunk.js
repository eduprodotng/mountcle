"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[454],{73:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var s=a(5043),r=a(6566),n=a(4535),i=a(1806),d=a(8977),o=a(6240),l=a(5865),c=(a(3910),a(3967)),h=a(854),p=a.n(h),m=a(2754),x=a(9361),g=a(2960);const u=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}})),y=((0,n.Ay)("span")((()=>({fontSize:"1rem",fontWeight:"500",marginRight:".5rem",textTransform:"capitalize"}))),(0,n.Ay)("span")((e=>{let{theme:t}=e;return{fontSize:"0.875rem",color:t.palette.text.secondary}})),(0,n.Ay)("h4")((e=>{let{theme:t}=e;return{fontSize:"1rem",fontWeight:"500",marginBottom:"16px",textTransform:"capitalize",color:t.palette.text.secondary}})),(0,n.Ay)(i.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),(0,n.Ay)(d.A)((e=>{let{theme:t}=e;return{margin:t.spacing(1)}})),(0,n.Ay)("div")((()=>({marginBottom:"20px","& .post-date":{padding:"10px",borderRadius:"5px",display:"inline-block",marginRight:"10px"}})))),f=()=>{const e=["skyblue","yellow","pink","blue"];return e[Math.floor(Math.random()*e.length)]},j=()=>{const{data:e,loading:t,error:a}=(0,r.A)("/get-admin"),{palette:n}=(0,o.A)(),[i,d]=(0,s.useState)([]),[h,j]=(0,s.useState)(0),[w,v]=(0,s.useState)(5),[S,A]=(0,s.useState)(new Date),{currentSession:b}=(0,s.useContext)(x.I),{logout:N,user:k}=(0,m.A)(),z="https://eduproapi.vercel.app".trim();(0,s.useEffect)((()=>{(async()=>{try{const e=await p().get(`${z}/api/get-all-notices/${b._id}`);d(e.data)}catch(a){console.error("Error fetching notices:",a),a.response&&console.error("Server responded with:",a.response.data)}})()}),[z,b]);const[B,T]=(0,s.useState)({students:0,teachers:0,parents:0,admins:0}),[$,E]=(0,s.useState)(0);return(0,s.useEffect)((()=>{b&&(async()=>{try{const e={Authorization:`Bearer ${localStorage.getItem("jwtToken")}`},t=await fetch(`${z}/api/get-all-students/${k.classname}/${b._id}`,{headers:e});if(!t.ok)throw new Error("Failed to fetch students");const a=(await t.json()).length;E(a)}catch(a){console.error("Error fetching student data:",a)}})()}),[b,k.classname]),(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{style:{paddingTop:"15px",paddingLeft:"10px"},children:"Student Dashboard"}),(0,g.jsx)("div",{className:"row gutters-20",style:{marginTop:"20px"},children:(0,g.jsxs)("h2",{children:["No of Students in this class: ",$]})}),(0,g.jsx)("div",{className:"row gutters-20",style:{marginTop:"60px"}}),(0,g.jsxs)("div",{className:"cald",children:[(0,g.jsx)("div",{className:"one",children:(0,g.jsxs)("div",{style:{border:"1px solid #ddd",padding:"20px"},children:[(0,g.jsx)("h2",{style:{marginBottom:"20px"},children:"Event Calendar"}),(0,g.jsx)(c.Ay,{onChange:e=>{A(e)},value:S,style:{width:"100% !important",padding:"20px",flexBasis:"70%",height:"500px"}})]})}),(0,g.jsxs)("div",{className:"two",children:[(0,g.jsx)("h2",{children:"Notice Board"}),(0,g.jsx)("div",{className:"notice-box-wrap m-height-660",style:{display:"flex",flexWrap:"wrap"},children:i.map((e=>(0,g.jsxs)(y,{style:{flexBasis:"48%",margin:"0 1%"},children:[(0,g.jsx)("div",{className:`post-date bg-${f()}`,style:{width:"100%"},children:new Date(e.date).toLocaleDateString()}),(0,g.jsx)(l.A,{variant:"h6",className:"notice-title",children:(0,g.jsx)("a",{href:"#",children:e.notice})}),(0,g.jsxs)("div",{className:"entry-meta",children:[e.posted_by," / ",(0,g.jsx)("span",{children:"5 min ago"})]})]},e._id)))})]})]}),(0,g.jsx)(s.Fragment,{children:(0,g.jsx)(u,{className:"analytics"})})]})}}}]);
//# sourceMappingURL=454.cf798430.chunk.js.map