"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[679],{7904:(t,o,n)=>{n.d(o,{A:()=>i});n(5043);var e=n(5865),a=n(2960);const i=t=>{let{label:o,required:n}=t;return(0,a.jsxs)(e.A,{component:"span",variant:"body1",children:[o,n&&(0,a.jsx)("span",{style:{color:"red"},children:" *"})]})}},2679:(t,o,n)=>{n.r(o),n.d(o,{default:()=>S});var e=n(2812),a=n(1403),i=n(1787),r=n(7392),s=n(5527),d=n(1472),l=n(2754),c=n(3516),g=n(5043),h=n(3216),u=n(5475),m=n(3033),p=n(3559),x=n(3632),f=n(7070),b=(n(3910),n(8983),n(9589),n(1036)),v=(n(2342),n(905),n(854)),w=n.n(v),j=(n(4110),n(1459),n(7904)),I=n(2960);const y={identifier:"",password:""},A=m.Ik().shape({password:m.Yj().min(6,"Password must be 6 character length").required("Password is required!")}),S=()=>{const t=(0,h.Zp)(),o=(0,s.A)(),[n,m]=(0,g.useState)(!1),[v,S]=(0,g.useState)(!1),{login:L}=(0,l.A)(),[P,N]=(0,g.useState)({name:"",motto:"",address:"",phone:"",phonetwo:"",email:"",sessionStart:"",sessionEnd:"",schoolLogo:""}),$="https://eduproapi.vercel.app",E=()=>{const o=(()=>{const t=localStorage.getItem("jwtToken");if(t)return(0,f.A)(t).role;return"guest"})();t("admin"===o?"/dashboard/admin":"teacher"===o?"/teacher/dashboard":"student"===o?"/student/dashboard/default":"/session/signin")};return(0,g.useEffect)((()=>{(async()=>{try{const t=await w().get(`${$}/api/account-setting`),{data:o}=t.data;N(o)}catch(t){console.error("Error fetching school settings:",t)}})()}),[$]),(0,I.jsxs)("div",{className:"authincation d-flex flex-column flex-lg-row flex-column-fluid",children:[(0,I.jsx)("div",{className:"login-aside text-center d-flex flex-column flex-row-auto",children:(0,I.jsxs)("div",{className:"d-flex flex-column-auto flex-column pt-lg-40 pt-15",children:[(0,I.jsx)("div",{className:"text-center mb-lg-4 mb-2 pt-5 logo",children:(0,I.jsx)("img",{src:`https://edupros.s3.amazonaws.com/${P.schoolLogo}`,style:{width:"200px",height:"130px"}})}),(0,I.jsxs)("p",{style:{fontWeight:"700",fontSize:"20px",color:"white"},children:[" ",P.name||""]}),(0,I.jsxs)("p",{className:"mb-4",style:{color:"white"},children:["Welcome Ba!...Login to your School Dashboard. \ud83d\udcda\ud83d\udca1",(0,I.jsx)("br",{})]})]})}),(0,I.jsx)("div",{className:"container flex-row-fluid d-flex flex-column justify-content-center position-relative overflow-hidden p-7 mx-auto",style:{width:"95%"},children:(0,I.jsx)("div",{className:"d-flex justify-content-center h-100 align-items-center",children:(0,I.jsx)("div",{className:"authincation-content style-2",children:(0,I.jsx)("div",{className:"row no-gutters",children:(0,I.jsx)("div",{className:"col-xl-12 tab-content",children:(0,I.jsx)("div",{id:"sign-up",className:"auth-form tab-pane fade show active form-validation",children:(0,I.jsx)(c.l1,{onSubmit:async t=>{console.log("handleFormSubmit is triggered");try{const o=await L(t.identifier,t.password);200===o.status?E():(console.error("Login failed with status:",o.status),b.oR.error("Invalid credentials"))}catch(o){console.error("Incorrect Username/Email or Password:",o),b.oR.error("Incorrect Username/Email or Password")}},initialValues:y,validationSchema:A,children:t=>{let{values:s,errors:l,touched:c,handleChange:g,handleBlur:h,handleSubmit:m}=t;return(0,I.jsxs)("form",{onSubmit:m,children:[(0,I.jsxs)("div",{className:"text-center mb-4",children:[(0,I.jsx)("h3",{className:"text-center mb-2 text-black",children:"Sign In to"}),(0,I.jsx)("span",{children:"Your School Dashboard"})]}),(0,I.jsx)("div",{className:"mb-3",children:(0,I.jsx)(a.A,{fullWidth:!0,type:"text",name:"identifier",label:(0,I.jsx)(j.A,{label:"Email or Username",required:!0}),onBlur:h,value:s.identifier,onChange:g,helperText:c.identifier&&l.identifier,error:Boolean(l.identifier&&c.identifier)})}),(0,I.jsx)("div",{className:"mb-3",children:(0,I.jsx)(a.A,{fullWidth:!0,name:"password",type:v?"text":"password",label:(0,I.jsx)(j.A,{label:"Password",required:!0}),variant:"outlined",onBlur:h,value:s.password,onChange:g,helperText:c.password&&l.password,error:Boolean(l.password&&c.password),sx:{mb:1.5},InputProps:{endAdornment:(0,I.jsx)(i.A,{position:"end",children:(0,I.jsx)(r.A,{onClick:()=>S(!v),edge:"end",children:v?(0,I.jsx)(p.A,{}):(0,I.jsx)(x.A,{})})})}})}),(0,I.jsx)("a",{href:"/session/forgot-password",className:"float-end mb-4",style:{color:"red !important",fontSize:"15px",fontWeight:"800"},children:"Forgot Password?"}),(0,I.jsx)(e.A,{type:"submit",color:"primary",loading:n,variant:"contained",sx:{my:2},className:"btn btn-block btn-primary",style:{paddingTop:"20px",paddingBottom:"20px"},children:"Sign In"}),(0,I.jsxs)(d.fz,{children:[(0,I.jsx)("br",{}),"Do you want to go to the home page?",(0,I.jsx)(u.k2,{to:"https://www.edupro.com.ng",style:{color:o.palette.primary.main,marginLeft:5},children:"Home"})]})]})}})})})})})})}),(0,I.jsx)(b.N9,{})]})}},2812:(t,o,n)=>{n.d(o,{A:()=>I});var e=n(8587),a=n(8168),i=n(5043),r=n(6803),s=n(5879),d=n(8610),l=n(4535),c=n(8206),g=n(8977),h=n(4221),u=n(1637),m=n(3030),p=n(2372);function x(t){return(0,p.Ay)("MuiLoadingButton",t)}const f=(0,n(2532).A)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);var b=n(2960);const v=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],w=(0,l.Ay)(g.A,{shouldForwardProp:t=>(t=>"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t&&"classes"!==t)(t)||"classes"===t,name:"MuiLoadingButton",slot:"Root",overridesResolver:(t,o)=>[o.root,o.startIconLoadingStart&&{[`& .${f.startIconLoadingStart}`]:o.startIconLoadingStart},o.endIconLoadingEnd&&{[`& .${f.endIconLoadingEnd}`]:o.endIconLoadingEnd}]})((t=>{let{ownerState:o,theme:n}=t;return(0,a.A)({[`& .${f.startIconLoadingStart}, & .${f.endIconLoadingEnd}`]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},"center"===o.loadingPosition&&{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${f.loading}`]:{color:"transparent"}},"start"===o.loadingPosition&&o.fullWidth&&{[`& .${f.startIconLoadingStart}, & .${f.endIconLoadingEnd}`]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===o.loadingPosition&&o.fullWidth&&{[`& .${f.startIconLoadingStart}, & .${f.endIconLoadingEnd}`]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginLeft:-8}})})),j=(0,l.Ay)("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(t,o)=>{const{ownerState:n}=t;return[o.loadingIndicator,o[`loadingIndicator${(0,r.A)(n.loadingPosition)}`]]}})((t=>{let{theme:o,ownerState:n}=t;return(0,a.A)({position:"absolute",visibility:"visible",display:"flex"},"start"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{left:"small"===n.size?10:14},"start"===n.loadingPosition&&"text"===n.variant&&{left:6},"center"===n.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(o.vars||o).palette.action.disabled},"end"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{right:"small"===n.size?10:14},"end"===n.loadingPosition&&"text"===n.variant&&{right:6},"start"===n.loadingPosition&&n.fullWidth&&{position:"relative",left:-10},"end"===n.loadingPosition&&n.fullWidth&&{position:"relative",right:-10})})),I=i.forwardRef((function(t,o){const n=i.useContext(h.A),l=(0,m.A)(n,t),g=(0,c.b)({props:l,name:"MuiLoadingButton"}),{children:p,disabled:f=!1,id:I,loading:y=!1,loadingIndicator:A,loadingPosition:S="center",variant:L="text"}=g,P=(0,e.A)(g,v),N=(0,s.A)(I),$=null!=A?A:(0,b.jsx)(u.A,{"aria-labelledby":N,color:"inherit",size:16}),E=(0,a.A)({},g,{disabled:f,loading:y,loadingIndicator:$,loadingPosition:S,variant:L}),B=(t=>{const{loading:o,loadingPosition:n,classes:e}=t,i={root:["root",o&&"loading"],startIcon:[o&&`startIconLoading${(0,r.A)(n)}`],endIcon:[o&&`endIconLoading${(0,r.A)(n)}`],loadingIndicator:["loadingIndicator",o&&`loadingIndicator${(0,r.A)(n)}`]},s=(0,d.A)(i,x,e);return(0,a.A)({},e,s)})(E),k=y?(0,b.jsx)(j,{className:B.loadingIndicator,ownerState:E,children:$}):null;return(0,b.jsxs)(w,(0,a.A)({disabled:f||y,id:N,ref:o},P,{variant:L,classes:B,ownerState:E,children:["end"===E.loadingPosition?p:k,"end"===E.loadingPosition?k:p]}))}))},1459:()=>{},905:(t,o,n)=>{t.exports=n.p+"static/media/logohlhs.329d9cb8c07fc0644e9d.png"},8983:(t,o,n)=>{t.exports=n.p+"static/media/one.8c6ce1bd70aacf0c4be3.jpg"},4110:(t,o,n)=>{t.exports=n.p+"static/media/pic-2.5d17daa845e18143e6eb.png"},9589:(t,o,n)=>{t.exports=n.p+"static/media/two.2a7c9c9e67eff2f58fbe.jpg"}}]);
//# sourceMappingURL=679.6a8d8fa4.chunk.js.map