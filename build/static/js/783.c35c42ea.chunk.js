"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[783],{7904:(t,n,o)=>{o.d(n,{A:()=>a});o(5043);var e=o(5865),i=o(2960);const a=t=>{let{label:n,required:o}=t;return(0,i.jsxs)(e.A,{component:"span",variant:"body1",children:[n,o&&(0,i.jsx)("span",{style:{color:"red"},children:" *"})]})}},2783:(t,n,o)=>{o.r(n),o.d(n,{default:()=>w});var e=o(2812),i=o(1403),a=o(5527),r=o(1472),s=o(2754),d=o(3516),l=o(5043),c=o(3216),g=o(5475),u=o(3033),h=o(7070),m=(o(3910),o(8983),o(9589),o(1036)),p=(o(2342),o(905),o(854)),x=o.n(p),f=(o(4110),o(1459),o(7904)),b=o(2960);const v={identifier:"",password:""},j=u.Ik().shape({password:u.Yj().min(6,"Password must be 6 character length").required("Password is required!")}),w=()=>{const t=(0,c.Zp)(),n=(0,a.A)(),[o,u]=(0,l.useState)(!1),[p,w]=(0,l.useState)(!1),{login:y}=(0,s.A)(),[I,A]=(0,l.useState)({name:"",motto:"",address:"",phone:"",phonetwo:"",email:"",sessionStart:"",sessionEnd:"",schoolLogo:""}),L="https://eduproapi.vercel.app",S=()=>{const n=(()=>{const t=localStorage.getItem("jwtToken");if(t)return(0,h.A)(t).role;return"guest"})();t("admin"===n?"/dashboard/admin":"teacher"===n?"/teacher/dashboard":"student"===n?"/student/dashboard/default":"/session/signin")};return(0,l.useEffect)((()=>{(async()=>{try{const t=await x().get(`${L}/api/account-setting`),{data:n}=t.data;A(n)}catch(t){console.error("Error fetching school settings:",t)}})()}),[L]),(0,b.jsxs)("div",{className:"authincation d-flex flex-column flex-lg-row flex-column-fluid",children:[(0,b.jsx)("div",{className:"login-aside text-center d-flex flex-column flex-row-auto",children:(0,b.jsxs)("div",{className:"d-flex flex-column-auto flex-column pt-lg-40 pt-15",children:[(0,b.jsx)("div",{className:"text-center mb-lg-4 mb-2 pt-5 logo",children:(0,b.jsx)("img",{src:`https://edupros.s3.amazonaws.com/${I.schoolLogo}`,style:{width:"200px",height:"130px"}})}),(0,b.jsxs)("p",{style:{fontWeight:"700",fontSize:"20px",color:"white"},children:[" ",I.name||""]}),(0,b.jsxs)("p",{className:"mb-4",style:{color:"white"},children:["Welcome!...Reset password to your School Dashboard. \ud83d\udcda\ud83d\udca1",(0,b.jsx)("br",{})]})]})}),(0,b.jsx)("div",{className:"container flex-row-fluid d-flex flex-column justify-content-center position-relative overflow-hidden p-7 mx-auto",style:{width:"95%"},children:(0,b.jsx)("div",{className:"d-flex justify-content-center h-100 align-items-center",children:(0,b.jsx)("div",{className:"authincation-content style-2",children:(0,b.jsx)("div",{className:"row no-gutters",children:(0,b.jsx)("div",{className:"col-xl-12 tab-content",children:(0,b.jsx)("div",{id:"sign-up",className:"auth-form tab-pane fade show active form-validation",children:(0,b.jsx)(d.l1,{onSubmit:async t=>{console.log("handleFormSubmit is triggered");try{const n=await y(t.identifier,t.password);200===n.status?S():(console.error("Login failed with status:",n.status),m.oR.error("Invalid credentials"))}catch(n){console.error("An error occurred during login:",n),m.oR.error("An error occurred during login")}},initialValues:v,validationSchema:j,children:t=>{let{values:a,errors:s,touched:d,handleChange:l,handleBlur:c,handleSubmit:u}=t;return(0,b.jsxs)("form",{onSubmit:u,children:[(0,b.jsx)("div",{className:"text-center mb-4",children:(0,b.jsx)("h3",{className:"text-center mb-2 text-black",children:"Reset your password"})}),(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)(i.A,{fullWidth:!0,type:"text",name:"identifier",label:(0,b.jsx)(f.A,{label:"Email ",required:!0}),onBlur:c,value:a.identifier,onChange:l,helperText:d.identifier&&s.identifier,error:Boolean(s.identifier&&d.identifier)})}),(0,b.jsx)(e.A,{type:"submit",color:"primary",loading:o,variant:"contained",sx:{my:2},className:"btn btn-block btn-primary",style:{paddingTop:"20px",paddingBottom:"20px"},children:"Reset Password"}),(0,b.jsxs)(r.fz,{children:[(0,b.jsx)("br",{}),"Do you want to go back?",(0,b.jsx)(g.k2,{to:"/session/signin",style:{color:n.palette.primary.main,marginLeft:5},children:"Go back"})]})]})}})})})})})})}),(0,b.jsx)(m.N9,{})]})}},2812:(t,n,o)=>{o.d(n,{A:()=>y});var e=o(8587),i=o(8168),a=o(5043),r=o(6803),s=o(5879),d=o(8610),l=o(4535),c=o(8206),g=o(8977),u=o(4221),h=o(1637),m=o(3030),p=o(2372);function x(t){return(0,p.Ay)("MuiLoadingButton",t)}const f=(0,o(2532).A)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);var b=o(2960);const v=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],j=(0,l.Ay)(g.A,{shouldForwardProp:t=>(t=>"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t&&"classes"!==t)(t)||"classes"===t,name:"MuiLoadingButton",slot:"Root",overridesResolver:(t,n)=>[n.root,n.startIconLoadingStart&&{[`& .${f.startIconLoadingStart}`]:n.startIconLoadingStart},n.endIconLoadingEnd&&{[`& .${f.endIconLoadingEnd}`]:n.endIconLoadingEnd}]})((t=>{let{ownerState:n,theme:o}=t;return(0,i.A)({[`& .${f.startIconLoadingStart}, & .${f.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0}},"center"===n.loadingPosition&&{transition:o.transitions.create(["background-color","box-shadow","border-color"],{duration:o.transitions.duration.short}),[`&.${f.loading}`]:{color:"transparent"}},"start"===n.loadingPosition&&n.fullWidth&&{[`& .${f.startIconLoadingStart}, & .${f.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===n.loadingPosition&&n.fullWidth&&{[`& .${f.startIconLoadingStart}, & .${f.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0,marginLeft:-8}})})),w=(0,l.Ay)("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.loadingIndicator,n[`loadingIndicator${(0,r.A)(o.loadingPosition)}`]]}})((t=>{let{theme:n,ownerState:o}=t;return(0,i.A)({position:"absolute",visibility:"visible",display:"flex"},"start"===o.loadingPosition&&("outlined"===o.variant||"contained"===o.variant)&&{left:"small"===o.size?10:14},"start"===o.loadingPosition&&"text"===o.variant&&{left:6},"center"===o.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled},"end"===o.loadingPosition&&("outlined"===o.variant||"contained"===o.variant)&&{right:"small"===o.size?10:14},"end"===o.loadingPosition&&"text"===o.variant&&{right:6},"start"===o.loadingPosition&&o.fullWidth&&{position:"relative",left:-10},"end"===o.loadingPosition&&o.fullWidth&&{position:"relative",right:-10})})),y=a.forwardRef((function(t,n){const o=a.useContext(u.A),l=(0,m.A)(o,t),g=(0,c.b)({props:l,name:"MuiLoadingButton"}),{children:p,disabled:f=!1,id:y,loading:I=!1,loadingIndicator:A,loadingPosition:L="center",variant:S="text"}=g,P=(0,e.A)(g,v),N=(0,s.A)(y),$=null!=A?A:(0,b.jsx)(h.A,{"aria-labelledby":N,color:"inherit",size:16}),k=(0,i.A)({},g,{disabled:f,loading:I,loadingIndicator:$,loadingPosition:L,variant:S}),E=(t=>{const{loading:n,loadingPosition:o,classes:e}=t,a={root:["root",n&&"loading"],startIcon:[n&&`startIconLoading${(0,r.A)(o)}`],endIcon:[n&&`endIconLoading${(0,r.A)(o)}`],loadingIndicator:["loadingIndicator",n&&`loadingIndicator${(0,r.A)(o)}`]},s=(0,d.A)(a,x,e);return(0,i.A)({},e,s)})(k),R=I?(0,b.jsx)(w,{className:E.loadingIndicator,ownerState:k,children:$}):null;return(0,b.jsxs)(j,(0,i.A)({disabled:f||I,id:N,ref:n},P,{variant:S,classes:E,ownerState:k,children:["end"===k.loadingPosition?p:R,"end"===k.loadingPosition?R:p]}))}))},1459:()=>{},905:(t,n,o)=>{t.exports=o.p+"static/media/logohlhs.329d9cb8c07fc0644e9d.png"},8983:(t,n,o)=>{t.exports=o.p+"static/media/one.8c6ce1bd70aacf0c4be3.jpg"},4110:(t,n,o)=>{t.exports=o.p+"static/media/pic-2.5d17daa845e18143e6eb.png"},9589:(t,n,o)=>{t.exports=o.p+"static/media/two.2a7c9c9e67eff2f58fbe.jpg"}}]);
//# sourceMappingURL=783.c35c42ea.chunk.js.map