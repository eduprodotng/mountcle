"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[148],{6148:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(5043),r=a(6566),n=a(4535),i=a(1806),l=a(8977),c=a(6240),d=a(5865),o=a(3910),m=a(7929),p=a(3967),h=(a(2194),a(854)),x=a.n(h),g=a(2960);const u=(0,n.Ay)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}})),y=((0,n.Ay)("span")((()=>({fontSize:"1rem",fontWeight:"500",marginRight:".5rem",textTransform:"capitalize"}))),(0,n.Ay)("span")((e=>{let{theme:t}=e;return{fontSize:"0.875rem",color:t.palette.text.secondary}})),(0,n.Ay)("h4")((e=>{let{theme:t}=e;return{fontSize:"1rem",fontWeight:"500",marginBottom:"16px",textTransform:"capitalize",color:t.palette.text.secondary}})),(0,n.Ay)(i.A)((()=>({whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0,textTransform:"capitalize"}}}}))),(0,n.Ay)(l.A)((e=>{let{theme:t}=e;return{margin:t.spacing(1)}})),(0,n.Ay)("div")((()=>({marginBottom:"20px","& .post-date":{padding:"10px",borderRadius:"5px",display:"inline-block",marginRight:"10px"}})))),j=()=>{const e=["skyblue","yellow","pink","blue"];return e[Math.floor(Math.random()*e.length)]},v=()=>{const{data:e,loading:t,error:a}=(0,r.A)("/get-admin"),{palette:n}=(0,c.A)(),[i,l]=(0,s.useState)(0),[h,v]=(0,s.useState)(5),[f,w]=(0,s.useState)(new Date),[N,b]=(0,s.useState)([]),A="https://eduproapi.vercel.app";(0,s.useEffect)((()=>{(async()=>{try{const e=await x().get(`${A}/api/get-all-notices`);b(e.data)}catch(a){console.error("Error fetching notices:",a),a.response&&console.error("Server responded with:",a.response.data)}})()}),[A]);const[S,k]=(0,s.useState)({students:0,teachers:0,parents:0,admins:0});return(0,s.useEffect)((()=>{(async()=>{try{const e=["student","teacher","parent","admin"],t=(await Promise.all(e.map((async e=>({role:e,count:(await x().get(`${A}/api/users/${e}`)).data.length}))))).reduce(((e,t)=>{let{role:a,count:s}=t;return e[a+"s"]=s,e}),{});k(t)}catch(a){console.error("Error fetching user counts:",a),a.response&&console.error("Server responded with:",a.response.data)}})()}),[A]),(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{style:{paddingTop:"15px",paddingLeft:"10px"},children:"Teacher Dashboard"}),(0,g.jsx)("div",{className:"row gutters-20",style:{marginTop:"10px"},children:Object.entries(S).map((e=>{let[t,a]=e;return(0,g.jsx)("div",{className:"col-xl-3 col-sm-6 col-12",children:(0,g.jsx)("div",{className:"dashboard-summery-one mg-b-20",children:(0,g.jsxs)("div",{className:"row align-items-center",children:[(0,g.jsx)("div",{className:"col-6",children:(0,g.jsx)("div",{className:"item-icon bg-light-"+("admins"===t?"red":"teachers"===t?"blue":"parents"===t?"yellow":"green"),children:(0,g.jsx)(o.g,{icon:"admins"===t||"teachers"===t?m.gdJ:"parents"===t?m.O26:m.X46,className:"flaticon-classmates text-"+("admins"===t?"red":"teachers"===t?"blue":"parents"===t?"yellow":"green")})})}),(0,g.jsx)("div",{className:"col-6",children:(0,g.jsxs)("div",{className:"item-content",children:[(0,g.jsx)("div",{className:"item-title",children:t.charAt(0).toUpperCase()+t.slice(1)}),(0,g.jsx)("div",{className:"item-number",children:(0,g.jsx)("span",{className:"counter","data-num":a,children:a})})]})})]})})},t)}))}),(0,g.jsx)("div",{className:"row gutters-20",style:{marginTop:"60px"}}),(0,g.jsxs)("div",{className:"cald",children:[(0,g.jsx)("div",{className:"one",children:(0,g.jsxs)("div",{style:{border:"1px solid #ddd",padding:"20px"},children:[(0,g.jsx)("h2",{style:{marginBottom:"20px"},children:"Event Calendar"}),(0,g.jsx)(p.Ay,{onChange:e=>{w(e)},value:f,style:{width:"100% !important",padding:"20px",flexBasis:"70%",height:"500px"}})]})}),(0,g.jsxs)("div",{className:"two",children:[(0,g.jsx)("h2",{children:"Notice Board"}),(0,g.jsx)("div",{className:"notice-box-wrap m-height-660",style:{display:"flex",flexWrap:"wrap"},children:N.map((e=>(0,g.jsxs)(y,{style:{flexBasis:"48%",margin:"0 1%"},children:[(0,g.jsx)("div",{className:`post-date bg-${j()}`,style:{width:"100%"},children:new Date(e.date).toLocaleDateString()}),(0,g.jsx)(d.A,{variant:"h6",className:"notice-title",children:(0,g.jsx)("a",{href:"#",children:e.notice})}),(0,g.jsxs)("div",{className:"entry-meta",children:[e.posted_by," / ",(0,g.jsx)("span",{children:"5 min ago"})]})]},e._id)))})]})]}),(0,g.jsx)(s.Fragment,{children:(0,g.jsx)(u,{className:"analytics"})})]})}}}]);
//# sourceMappingURL=148.e25c57d3.chunk.js.map